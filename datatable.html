<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tablični prikaz skupa podataka</title>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>

</head>
<body>
    
    <h2>Popis klubova</h2>

    <table id="kluboviTablica" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Ime kluba</th>
                <th>Grad</th>
                <th>Nadimak</th>
                <th>Godina osnivanja</th>
                <th>Stadion</th>
                <th>Kapacitet</th>
                <th>Trener</th>
                <th>Igrači</th>
            </tr>
        </thead>
    </table>

    <script>
        $(document).ready(function() {
            $.getJSON("PL_ekipe.json", function(data) {

                const kluboviData = data.klubovi.map(klub => {
                    return {
                        "ime_kluba": klub.ime_kluba,
                        "grad": klub.grad,
                        "nadimak": klub.nadimak,
                        "godina_osnivanja": klub.godina_osnivanja,
                        "stadion": klub.stadion.naziv,
                        "kapacitet": klub.stadion.kapacitet,
                        "trener": `${klub.trener.ime} ${klub.trener.prezime}`,
                        "igraci": klub.igraci.map(igrac => `${igrac.ime} ${igrac.prezime}`).join(", ")
                    };
                });

                $('#kluboviTablica'.DataTable({
                    data: kluboviData,
                    columns: [
                        { data: 'ime_kluba' },
                        { data: 'grad' },
                        { data: 'nadimak' },
                        { data: 'godina_osnivanja' },
                        { data: 'stadion' },
                        { data: 'kapacitet' },
                        { data: 'trener' },
                        { data: 'igraci' },
                    ]
                }))
            });
        });
    </script>

</body>
</html>